
<link rel="stylesheet" href="style.css">


<header class="header">
  
  <input
  type="text"
  id="search-bar"
  class="search-bar"
  placeholder="Search by title or tech..."
/>
  <div id="filter-container" class="filter-container">
    <label for="creator-filter">Filter by Author:</label>
    <select id="creator-filter">
      <option value="all">All</option>
    </select>
  </div>
</header>


<div id="projects" class="projects-grid"></div>

<div id="creators" class="creators-footer">
  <h2>Creators</h2>
  <div id="creators-list" class="creators-buttons"></div>
  <a href="https://github.com/TheClusterFlux" target="_blank" class="org-link">Visit Our GitHub</a>
</div>

<script>

   // Fetch creators and populate the filter and creators section
   function fetchCreators() {
    fetch('/creators.json')
      .then(response => response.json())
      .then(creators => {
        const filter = document.getElementById('creator-filter');
        const creatorsList = document.getElementById('creators-list');

        creators.forEach(creator => {
          // Add to filter dropdown
          const option = document.createElement('option');
          option.value = creator.name;
          option.textContent = creator.name;
          filter.appendChild(option);

          // Add to creators section
          const listItem = document.createElement('li');
          listItem.innerHTML = `<a href="${creator.github}" target="_blank">${creator.name}</a>`;
          creatorsList.appendChild(listItem);
        });
      })
      .catch(error => console.error('Error fetching creators:', error));
  }
  // Filter projects based on the selected creator
  document.getElementById('creator-filter').addEventListener('change', (event) => {
    const selectedCreator = event.target.value;
    const projectCards = document.querySelectorAll('.card');

    projectCards.forEach(card => {
      const author = card.querySelector('.author').textContent.replace('Author: ', '');
      if (selectedCreator === 'all' || author === selectedCreator) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  });
  
  function fetchProjects() {
      fetch('/projects.json')
        .then(response => response.json())
        .then(projects => {
          const container = document.getElementById('projects');
          projects.forEach(project => {
            container.innerHTML += `
              <div class="card">
                <img src="${project.image}" alt="${project.title}">
                <div class="card-body">
                  <h5>${project.title}</h5>
                  <p>${project.description}</p>
                  <div class="tech-list">Tech: ${project.tech.join(', ')}</div>
                  <p class="author">Author: ${project.author}</p>
                  ${Object.entries(project.links)
                    .map(
                      ([key, url]) =>
                        `<a href="${url}" class="btn" target="_blank">${key}</a>` // Added target="_blank"
                    )
                    .join(' ')}
                </div>
              </div>
            `;
          });
        })
        .catch(error => console.error('Error fetching projects:', error));
    }

  // Initialize the page
  // fetchClusterInfo();
  fetchCreators();
  fetchProjects();

  // Filter projects based on the search input
document.getElementById('search-bar').addEventListener('input', (event) => {
  const searchTerm = event.target.value.toLowerCase();
  const projectCards = document.querySelectorAll('.card');

  projectCards.forEach((card) => {
    const title = card.querySelector('h5').textContent.toLowerCase();
    const tech = card.querySelector('.tech-list').textContent.toLowerCase();

    if (title.includes(searchTerm) || tech.includes(searchTerm)) {
      card.style.display = 'block';
    } else {
      card.style.display = 'none';
    }
  });
});

</script>